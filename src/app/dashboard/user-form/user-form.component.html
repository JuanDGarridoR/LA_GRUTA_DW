<div class="container mt-4">
  <h2>{{ pageTitle }}</h2>

  <form (ngSubmit)="guardarUsuario()" #form="ngForm" class="mt-3">
    <!-- Username -->
    <div class="mb-3">
      <label>Usuario</label>
      <input
        type="text"
        class="form-control"
        name="username"
        [(ngModel)]="user.username"
        required
      />
    </div>

    <!-- Password solo en creación -->
    <div class="mb-3" *ngIf="!isEditMode">
      <label>Contraseña</label>
      <input
        type="password"
        class="form-control"
        name="password"
        [(ngModel)]="user.password"
        required
      />
    </div>

    <!-- Selección de roles -->
    <div class="mb-3">
      <label>Roles</label>

      <div *ngFor="let role of availableRoles">
        <label>
          <input
            type="checkbox"
            [value]="role"
            [(ngModel)]="user.roles"
            name="roles"
          />
          {{ role }}
        </label>
      </div>
    </div>

    <button class="btn btn-primary" type="submit" [disabled]="!form.valid">
      Guardar
    </button>

    <button class="btn btn-secondary ms-2" type="button" (click)="cancelar()">
      Cancelar
    </button>
  </form>
</div>
