<h1 class="mb-4">{{ pageTitle }}</h1>

<div class="form-container shadow-sm">
  <form #adicionalForm="ngForm" (ngSubmit)="guardarAdicional()">
    <div class="mb-3">
      <label for="nombre" class="form-label">Nombre</label>
      <input
        type="text"
        class="form-control"
        id="nombre"
        name="nombre"
        [(ngModel)]="adicional.nombre"
        required
      />
    </div>
    <div class="mb-3">
      <label for="descripcion" class="form-label">Descripción</label>
      <textarea
        class="form-control"
        id="descripcion"
        name="descripcion"
        [(ngModel)]="adicional.descripcion"
        rows="3"
      ></textarea>
    </div>
    <div class="mb-3">
      <label for="precio" class="form-label">Precio</label>
      <input
        type="number"
        class="form-control"
        id="precio"
        name="precio"
        [(ngModel)]="adicional.precio"
        required
      />
    </div>
    <div class="mb-3">
      <label class="form-label">Asociar a Categorías</label>
      <div class="checkbox-group border rounded p-3">
        <div *ngFor="let categoria of listaCategorias" class="form-check">
          <input
            class="form-check-input"
            type="checkbox"
            [id]="'cat-' + categoria.id"
            [checked]="isCategoriaSeleccionada(categoria)"
            (change)="onCategoriaChange(categoria, $event)"
          />
          <label class="form-check-label" [for]="'cat-' + categoria.id">
            {{ categoria.nombre }}
          </label>
        </div>
      </div>
    </div>
    <div class="d-flex justify-content-end">
      <button type="button" class="btn btn-secondary me-2" (click)="cancelar()">
        Cancelar
      </button>
      <button
        type="submit"
        class="btn btn-success"
        [disabled]="adicionalForm.invalid"
      >
        {{ isEditMode ? "Actualizar" : "Guardar" }}
      </button>
    </div>
  </form>
</div>
