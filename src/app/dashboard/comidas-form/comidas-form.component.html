<h1 class="mb-4">{{ pageTitle }}</h1>

<div class="form-container shadow-sm" *ngIf="comida">
  <form #comidaForm="ngForm" (ngSubmit)="guardarComida()">
    <div class="mb-3">
      <label for="nombre" class="form-label">Nombre del Plato</label>
      <input
        type="text"
        class="form-control"
        id="nombre"
        name="nombre"
        [(ngModel)]="comida.nombre"
        required
      />
    </div>

    <div class="mb-3">
      <label for="descripcion" class="form-label">Descripción</label>
      <textarea
        class="form-control"
        id="descripcion"
        name="descripcion"
        rows="3"
        [(ngModel)]="comida.descripcion"
      ></textarea>
    </div>

    <div class="mb-3">
      <label for="precio" class="form-label">Precio</label>
      <input
        type="number"
        class="form-control"
        id="precio"
        name="precio"
        [(ngModel)]="comida.precio"
        required
      />
    </div>

    <div class="mb-3">
      <label for="imagen" class="form-label">URL de la Imagen</label>
      <input
        type="text"
        class="form-control"
        id="imagen"
        name="imagen"
        [(ngModel)]="comida.imagen"
      />
    </div>

    <div class="mb-3">
      <label for="categoria" class="form-label">Categoría</label>
      <select
        class="form-select"
        id="categoria"
        name="categoria"
        [(ngModel)]="comida.categoria"
      >
        <option [ngValue]="undefined" disabled>
          Selecciona una categoría...
        </option>
        <option *ngFor="let cat of categorias" [ngValue]="cat">
          {{ cat.nombre }}
        </option>
      </select>
    </div>

    <div class="form-check mb-4">
      <input
        class="form-check-input"
        type="checkbox"
        id="disponible"
        name="disponible"
        [(ngModel)]="comida.disponible"
      />
      <label class="form-check-label" for="disponible">
        Disponible para la venta
      </label>
    </div>

    <div class="d-flex justify-content-end">
      <button type="button" class="btn btn-secondary me-2" (click)="cancelar()">
        Cancelar
      </button>
      <button
        type="submit"
        class="btn btn-success"
        [disabled]="comidaForm.invalid"
      >
        {{ isEditMode ? "Actualizar Comida" : "Guardar Comida" }}
      </button>
    </div>
  </form>
</div>
